<div class="container">
  <div class="search-bar">
    <%= form_tag boats_path, method: :get do %>
      <%= text_field_tag :query,
      params[:query],
      class: "form-control",
      placeholder: "Find a boat by name or address" %>
    <% end %>
  </div>
  <div class="search-bar-logo">
    <%= submit_tag "Search", class: "btn btn-primary" %>
  </div>
</div>

  <div style="width: 100%; height: 600px;"
    data-controller="mapbox"
    data-mapbox-markers-value="<%= @markers.to_json %>"
    data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>


<div class="home-card-container">
  <div class="home-cards">
  <% @boats.each do |boat| %>
    <div class="index-card-category">
    <%= link_to boat_path(boat) do %>
      <div id="carousel-show" class="carousel-slide" data-bs-ride="carousel">
        <div class="carousel-inner">
        <% boat.photos.each_with_index do |photo, index| %>
          <div id="carousel_item_<%= index %>" class="index-item carousel-item<%= index == 0 ? ' active' : '' %>">
          <img src="<%= cl_image_path photo.key, class: 'carousel-boat-image' %>" alt="">
          </div>
        <% end %>
      <div class="index-card-body">
        <h4 class="boat-card-text"><%= boat.name %></h4>
        <h5 class="home-card-text-small"><i class="fa-solid fa-sterling-sign"></i>&nbsp;<%= boat.price %>p/n<br>
        <i class="fa-solid fa-bed"></i>&nbsp;<%= boat.guests %>
        &nbsp;&nbsp;<i class="fa-solid fa-address-arrow"></i>&nbsp;<%= boat.address %></h5>
      </div>
      </div>
      </div>
    <% end %> <!-- end of link_to -->
    </div>
    <% end %> <!-- end of boat.each -->
  </div>
</div>
